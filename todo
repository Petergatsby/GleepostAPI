-Register
--send verification email
--log registration event

-Login
--store token:user:expiry in db
--store token:user:expiry in redis
--log login attempt

-Validate Token
--Have I seen it recently?
--does it exist in redis?
--does it exist in db?
--if yes, we're okay

-Send
--validate token
--validate message
--persist message
--publish to redis

-GET posts
--validate token
--Stick in redis
--stick in local cache

-get user networks
--Either return an error when looking for someone non-existent, or when returning no networks, or check the user exists before using, or check output has at least one network!

-POST posts
--validate token
--stick it in redis
--stick it in local cache?

-GET posts/id/comments
--validate token
--get all the comments ordered by time

-POST posts/id/comments
--validate token
--stick it in db

-GET conversations
--validate token
--Get a list of your conversations by time of most recent message

-GET conversations/id
--validate token
--get participants
--get messages

-GET conversations/id/messages
--validate token
--get last 20 messages from redis
--get last 20 messages from db

-GET user/id
--validate token
--retrieve from redis
--retrieve from db
--put in redis

-get partners
--More sophisticated than random pl0x!

-POST newconversation
--Store in redis

-POST newgroup
--validate token
--store in redis
--store in db


